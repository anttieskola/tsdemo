var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
define(["require", "exports", "Models"], function (require, exports, models) {
    var bb = Backbone;
    var ViewState;
    (function (ViewState) {
        ViewState[ViewState["View"] = 0] = "View";
        ViewState[ViewState["Edit"] = 1] = "Edit";
        ViewState[ViewState["Add"] = 2] = "Add";
        ViewState[ViewState["List"] = 3] = "List";
    })(ViewState || (ViewState = {}));
    ;
    var StatusView = (function (_super) {
        __extends(StatusView, _super);
        function StatusView(productId, operationId) {
            this.state = ViewState.View;
            this.productId = productId;
            this.operationId = operationId;
            this.template = _.template($('#statusView-template').html());
            this.templateEdit = _.template($('#statusEditView-template').html());
            this.templateAdd = _.template($('#statusAdd-template').html());
            _super.call(this);
        }
        // render one of the two layouts
        StatusView.prototype.render = function () {
            if (this.model == null) {
                this.state = ViewState.Add;
            }
            switch (this.state) {
                case ViewState.View:
                    this.$el.html(this.template(this.model.toJSON()));
                    this.undelegateEvents();
                    this.delegateEvents({
                        "click .editButton": "stateEdit"
                    });
                    break;
                case ViewState.Add:
                    this.$el.html(this.templateAdd(null));
                    this.undelegateEvents();
                    this.delegateEvents({
                        "click .saveButton": "stateAdd",
                        "click .cancelButton": "stateCancel"
                    });
                    break;
                case ViewState.Edit:
                    this.$el.html(this.templateEdit(this.model.toJSON()));
                    this.undelegateEvents();
                    this.delegateEvents({
                        "click .saveButton": "stateSave",
                        "click .cancelButton": "stateCancel"
                    });
                    break;
            }
            return this;
        };
        // view state changes
        StatusView.prototype.stateEdit = function () {
            this.state = ViewState.Edit;
            this.render();
        };
        StatusView.prototype.stateAdd = function () {
            var s = new models.Status;
            s.ProductId = this.productId;
            s.OperationId = this.operationId;
            s.Complete = this.$el.find('input[type=checkbox]').prop('checked');
            s.Notes = this.$el.find('input[type=text]').val();
            this.model = models.Collections().Statuses.create(s, { wait: true });
            this.state = ViewState.View;
            this.render();
        };
        StatusView.prototype.stateSave = function () {
            this.model.ProductId = this.productId;
            this.model.OperationId = this.operationId;
            this.model.Complete = this.$el.find('input[type=checkbox]').prop('checked');
            this.model.Notes = this.$el.find('input[type=text]').val();
            this.model.save();
            this.state = ViewState.View;
            this.render();
        };
        StatusView.prototype.stateCancel = function () {
            this.state = ViewState.View;
            this.render();
        };
        return StatusView;
    })(bb.View);
    exports.StatusView = StatusView;
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0YXR1c1ZpZXdzLnRzIl0sIm5hbWVzIjpbIlZpZXdTdGF0ZSIsIlN0YXR1c1ZpZXciLCJTdGF0dXNWaWV3LmNvbnN0cnVjdG9yIiwiU3RhdHVzVmlldy5yZW5kZXIiLCJTdGF0dXNWaWV3LnN0YXRlRWRpdCIsIlN0YXR1c1ZpZXcuc3RhdGVBZGQiLCJTdGF0dXNWaWV3LnN0YXRlU2F2ZSIsIlN0YXR1c1ZpZXcuc3RhdGVDYW5jZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7SUFBQSxJQUFPLEVBQUUsR0FBRyxRQUFRLENBQUM7SUFHckIsSUFBSyxTQUFtQztJQUF4QyxXQUFLLFNBQVM7UUFBR0EseUNBQUlBLENBQUFBO1FBQUVBLHlDQUFJQSxDQUFBQTtRQUFFQSx1Q0FBR0EsQ0FBQUE7UUFBRUEseUNBQUlBLENBQUFBO0lBQUNBLENBQUNBLEVBQW5DLFNBQVMsS0FBVCxTQUFTLFFBQTBCO0lBQUEsQ0FBQztJQUV6QztRQUFnQ0MsOEJBQXNCQTtRQU9sREEsb0JBQVlBLFNBQWlCQSxFQUFFQSxXQUFtQkE7WUFDOUNDLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLFNBQVNBLENBQUNBLElBQUlBLENBQUNBO1lBQzVCQSxJQUFJQSxDQUFDQSxTQUFTQSxHQUFHQSxTQUFTQSxDQUFDQTtZQUMzQkEsSUFBSUEsQ0FBQ0EsV0FBV0EsR0FBR0EsV0FBV0EsQ0FBQ0E7WUFDL0JBLElBQUlBLENBQUNBLFFBQVFBLEdBQUdBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBLHNCQUFzQkEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDN0RBLElBQUlBLENBQUNBLFlBQVlBLEdBQUdBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBLENBQUNBLDBCQUEwQkEsQ0FBQ0EsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDckVBLElBQUlBLENBQUNBLFdBQVdBLEdBQUdBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNB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LENBQUNBLE1BQU1BLEVBQUVBLENBQUNBO1FBQ2xCQSxDQUFDQTtRQUNMTixpQkFBQ0E7SUFBREEsQ0E1RUEsQUE0RUNBLEVBNUUrQixFQUFFLENBQUMsSUFBSSxFQTRFdEM7SUE1RVksa0JBQVUsYUE0RXRCLENBQUEiLCJmaWxlIjoiU3RhdHVzVmlld3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmIgPSBCYWNrYm9uZTtcclxuaW1wb3J0IG1vZGVscyA9IHJlcXVpcmUoXCJNb2RlbHNcIik7XHJcblxyXG5lbnVtIFZpZXdTdGF0ZSB7IFZpZXcsIEVkaXQsIEFkZCwgTGlzdCB9O1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXR1c1ZpZXcgZXh0ZW5kcyBiYi5WaWV3PG1vZGVscy5TdGF0dXM+IHtcclxuICAgIHByaXZhdGUgc3RhdGU6IFZpZXdTdGF0ZTtcclxuICAgIHByaXZhdGUgcHJvZHVjdElkOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG9wZXJhdGlvbklkOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlOiAoZGF0YTogYW55KSA9PiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHRlbXBsYXRlRWRpdDogKGRhdGE6IGFueSkgPT4gc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSB0ZW1wbGF0ZUFkZDogKGRhdGE6IGFueSkgPT4gc3RyaW5nO1xyXG4gICAgY29uc3RydWN0b3IocHJvZHVjdElkOiBudW1iZXIsIG9wZXJhdGlvbklkOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0gVmlld1N0YXRlLlZpZXc7XHJcbiAgICAgICAgdGhpcy5wcm9kdWN0SWQgPSBwcm9kdWN0SWQ7XHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25JZCA9IG9wZXJhdGlvbklkO1xyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBfLnRlbXBsYXRlKCQoJyNzdGF0dXNWaWV3LXRlbXBsYXRlJykuaHRtbCgpKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRWRpdCA9IF8udGVtcGxhdGUoJCgnI3N0YXR1c0VkaXRWaWV3LXRlbXBsYXRlJykuaHRtbCgpKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlQWRkID0gXy50ZW1wbGF0ZSgkKCcjc3RhdHVzQWRkLXRlbXBsYXRlJykuaHRtbCgpKTtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG4gICAgLy8gcmVuZGVyIG9uZSBvZiB0aGUgdHdvIGxheW91dHNcclxuICAgIHJlbmRlcigpOiBiYi5WaWV3PG1vZGVscy5TdGF0dXM+IHtcclxuICAgICAgICBpZiAodGhpcy5tb2RlbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBWaWV3U3RhdGUuQWRkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSBWaWV3U3RhdGUuVmlldzpcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZSh0aGlzLm1vZGVsLnRvSlNPTigpKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVuZGVsZWdhdGVFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVsZWdhdGVFdmVudHMoe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2sgLmVkaXRCdXR0b25cIjogXCJzdGF0ZUVkaXRcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWaWV3U3RhdGUuQWRkOlxyXG4gICAgICAgICAgICAgICAgdGhpcy4kZWwuaHRtbCh0aGlzLnRlbXBsYXRlQWRkKG51bGwpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5kZWxlZ2F0ZUV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxlZ2F0ZUV2ZW50cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjbGljayAuc2F2ZUJ1dHRvblwiOiBcInN0YXRlQWRkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjbGljayAuY2FuY2VsQnV0dG9uXCI6IFwic3RhdGVDYW5jZWxcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWaWV3U3RhdGUuRWRpdDpcclxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmh0bWwodGhpcy50ZW1wbGF0ZUVkaXQodGhpcy5tb2RlbC50b0pTT04oKSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bmRlbGVnYXRlRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlbGVnYXRlRXZlbnRzKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrIC5zYXZlQnV0dG9uXCI6IFwic3RhdGVTYXZlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjbGljayAuY2FuY2VsQnV0dG9uXCI6IFwic3RhdGVDYW5jZWxcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICAvLyB2aWV3IHN0YXRlIGNoYW5nZXNcclxuICAgIHByaXZhdGUgc3RhdGVFZGl0KCkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBWaWV3U3RhdGUuRWRpdDtcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzdGF0ZUFkZCgpIHtcclxuICAgICAgICB2YXIgcyA9IG5ldyBtb2RlbHMuU3RhdHVzO1xyXG4gICAgICAgIHMuUHJvZHVjdElkID0gdGhpcy5wcm9kdWN0SWQ7XHJcbiAgICAgICAgcy5PcGVyYXRpb25JZCA9IHRoaXMub3BlcmF0aW9uSWQ7XHJcbiAgICAgICAgcy5Db21wbGV0ZSA9IHRoaXMuJGVsLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcpO1xyXG4gICAgICAgIHMuTm90ZXMgPSB0aGlzLiRlbC5maW5kKCdpbnB1dFt0eXBlPXRleHRdJykudmFsKCk7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVscy5Db2xsZWN0aW9ucygpLlN0YXR1c2VzLmNyZWF0ZShzLCB7IHdhaXQ6IHRydWUgfSk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFZpZXdTdGF0ZS5WaWV3O1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHN0YXRlU2F2ZSgpIHtcclxuICAgICAgICB0aGlzLm1vZGVsLlByb2R1Y3RJZCA9IHRoaXMucHJvZHVjdElkO1xyXG4gICAgICAgIHRoaXMubW9kZWwuT3BlcmF0aW9uSWQgPSB0aGlzLm9wZXJhdGlvbklkO1xyXG4gICAgICAgIHRoaXMubW9kZWwuQ29tcGxldGUgPSB0aGlzLiRlbC5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLnByb3AoJ2NoZWNrZWQnKTtcclxuICAgICAgICB0aGlzLm1vZGVsLk5vdGVzID0gdGhpcy4kZWwuZmluZCgnaW5wdXRbdHlwZT10ZXh0XScpLnZhbCgpO1xyXG4gICAgICAgIHRoaXMubW9kZWwuc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBWaWV3U3RhdGUuVmlldztcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzdGF0ZUNhbmNlbCgpIHtcclxuICAgICAgICB0aGlzLnN0YXRlID0gVmlld1N0YXRlLlZpZXc7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=