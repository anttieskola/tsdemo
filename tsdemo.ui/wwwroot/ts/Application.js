define(["require", "exports", "Models", "Views"], function (require, exports, modelsFile, viewsFile) {
    var models = modelsFile.Models;
    var views = viewsFile.Views;
    var Application;
    (function (Application) {
        // main application
        var Main = (function () {
            function Main() {
                // create and bind collections & views
                this.productsListView = new views.ProductsListView;
                this.productsListView.$el = $('#products');
                this.productsListView.collection = models.Collections().Products;
                this.productsListView.collection.on('sync', this.productsListView.render, this.productsListView);
                this.linesListView = new views.LinesListView;
                this.linesListView.$el = $('#lines');
                this.linesListView.collection = models.Collections().Lines;
                this.linesListView.collection.on('sync', this.linesListView.render, this.linesListView);
                this.statusesListView = new views.StatusesListView;
                this.statusesListView.$el = $('#statuses');
                this.statusesListView.collection = models.Collections().Statuses;
                this.statusesListView.collection.on('sync', this.statusesListView.render, this.statusesListView);
                // hookup new inputs
                $('#inputNewProduct').on('keypress', this.newProduct);
                $('#inputNewLine').on('keypress', this.newLine);
            }
            // new product (normal event handler)
            Main.prototype.newProduct = function (e) {
                if (e.keyCode != 13)
                    return;
                var input = $('#inputNewProduct').val();
                if (input == '')
                    return;
                var newProduct;
                newProduct = new models.Product;
                newProduct.Name = input;
                models.Collections().Products.create(newProduct, { wait: true });
                $('#inputNewProduct').val('');
            };
            // new line (normal event handler)
            Main.prototype.newLine = function (e) {
                if (e.keyCode != 13)
                    return;
                var input = $('#inputNewLine').val();
                if (input == '')
                    return;
                var newLine;
                newLine = new models.Line;
                newLine.Name = input;
                models.Collections().Lines.create(newLine, { wait: true });
                $('#inputNewLine').val('');
            };
            return Main;
        })();
        Application.Main = Main;
        var main = new Main(); // main class object (module wide access)
        function Run() {
            console.log("Application start");
        }
        Application.Run = Run;
    })(Application = exports.Application || (exports.Application = {}));
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFwcGxpY2F0aW9uLnRzIl0sIm5hbWVzIjpbIkFwcGxpY2F0aW9uIiwiQXBwbGljYXRpb24uTWFpbiIsIkFwcGxpY2F0aW9uLk1haW4uY29uc3RydWN0b3IiLCJBcHBsaWNhdGlvbi5NYWluLm5ld1Byb2R1Y3QiLCJBcHBsaWNhdGlvbi5NYWluLm5ld0xpbmUiLCJBcHBsaWNhdGlvbi5SdW4iXSwibWFwcGluZ3MiOiI7SUFFQSxJQUFPLE1BQU0sR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDO0lBRWxDLElBQU8sS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7SUFFL0IsSUFBYyxXQUFXLENBMER4QjtJQTFERCxXQUFjLFdBQVcsRUFBQyxDQUFDO1FBQ3ZCQSxBQUNBQSxtQkFEbUJBOztZQU9mQztnQkFDSUMsQUFDQUEsc0NBRHNDQTtnQkFDdENBLElBQUlBLENBQUNBLGdCQUFnQkEsR0FBR0EsSUFBSUEsS0FBS0EsQ0FBQ0EsZ0JBQWdCQSxDQUFDQTtnQkFDbkRBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsR0FBR0EsR0FBR0EsQ0FBQ0EsQ0FBQ0EsV0FBV0EsQ0FBQ0EsQ0FBQ0E7Z0JBQzNDQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLFVBQVVBLEdBQUdBLE1BQU1BLENBQUNBLFdBQVdBLEVBQUVBLENBQUNBLFFBQVFBLENBQUNBO2dCQUNqRUEsSUFBSUEsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxVQUFVQSxDQUFDQSxFQUFFQSxDQUFDQSxNQUFNQSxFQUFFQSxJQUFJQSxDQUFDQSxnQkFBZ0JBLENBQUNBLE1BQU1BLEVBQUVBLElBQUlBLENBQUNBLGdCQUFnQkEsQ0FBQ0EsQ0FBQ0E7Z0JBRWpHQSxJQUFJQSxDQUFDQSxhQUFhQSxHQUFHQSxJQUFJQSxLQUFLQSxDQUFDQSxhQUFhQSxDQUFDQTtnQkFDN0NBLElBQUlBLENBQUNBLGFBQWFBLENBQUNBLEdBQUdBLEdBQUdBLENBQUNBLENBQUNBLFFBQVFBLENBQUNBLENBQUNBO2dCQUNyQ0EsSUFB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LFdBQVdBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLE1BQU1BLENBQUNBLE9BQU9BLEVBQUVBLEVBQUVBLElBQUlBLEVBQUVBLElBQUlBLEVBQUVBLENBQUNBLENBQUNBO2dCQUMzREEsQ0FBQ0EsQ0FBQ0EsZUFBZUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsQ0FBQ0EsQ0FBQ0E7WUFDL0JBLENBQUNBO1lBQ0xILFdBQUNBO1FBQURBLENBbkRBRCxBQW1EQ0MsSUFBQUQ7UUFuRFlBLGdCQUFJQSxPQW1EaEJBLENBQUFBO1FBQ0RBLElBQUlBLElBQUlBLEdBQUdBLElBQUlBLElBQUlBLEVBQUVBLEVBQUVBLHlDQUF5Q0E7UUFDaEVBO1lBQ0lLLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLG1CQUFtQkEsQ0FBQ0EsQ0FBQ0E7UUFDckNBLENBQUNBO1FBRmVMLGVBQUdBLE1BRWxCQSxDQUFBQTtJQUNMQSxDQUFDQSxFQTFEYSxXQUFXLEdBQVgsbUJBQVcsS0FBWCxtQkFBVyxRQTBEeEIiLCJmaWxlIjoiQXBwbGljYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmIgPSBCYWNrYm9uZTtcclxuaW1wb3J0IG1vZGVsc0ZpbGUgPSByZXF1aXJlKFwiTW9kZWxzXCIpO1xyXG5pbXBvcnQgbW9kZWxzID0gbW9kZWxzRmlsZS5Nb2RlbHM7XHJcbmltcG9ydCB2aWV3c0ZpbGUgPSByZXF1aXJlKFwiVmlld3NcIik7XHJcbmltcG9ydCB2aWV3cyA9IHZpZXdzRmlsZS5WaWV3cztcclxuXHJcbmV4cG9ydCBtb2R1bGUgQXBwbGljYXRpb24ge1xyXG4gICAgLy8gbWFpbiBhcHBsaWNhdGlvblxyXG4gICAgZXhwb3J0IGNsYXNzIE1haW4ge1xyXG4gICAgICAgIC8vIHZpZXdzXHJcbiAgICAgICAgcHJvZHVjdHNMaXN0Vmlldzogdmlld3MuUHJvZHVjdHNMaXN0VmlldztcclxuICAgICAgICBsaW5lc0xpc3RWaWV3OiB2aWV3cy5MaW5lc0xpc3RWaWV3O1xyXG4gICAgICAgIHN0YXR1c2VzTGlzdFZpZXc6IHZpZXdzLlN0YXR1c2VzTGlzdFZpZXc7XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgYW5kIGJpbmQgY29sbGVjdGlvbnMgJiB2aWV3c1xyXG4gICAgICAgICAgICB0aGlzLnByb2R1Y3RzTGlzdFZpZXcgPSBuZXcgdmlld3MuUHJvZHVjdHNMaXN0VmlldztcclxuICAgICAgICAgICAgdGhpcy5wcm9kdWN0c0xpc3RWaWV3LiRlbCA9ICQoJyNwcm9kdWN0cycpO1xyXG4gICAgICAgICAgICB0aGlzLnByb2R1Y3RzTGlzdFZpZXcuY29sbGVjdGlvbiA9IG1vZGVscy5Db2xsZWN0aW9ucygpLlByb2R1Y3RzO1xyXG4gICAgICAgICAgICB0aGlzLnByb2R1Y3RzTGlzdFZpZXcuY29sbGVjdGlvbi5vbignc3luYycsIHRoaXMucHJvZHVjdHNMaXN0Vmlldy5yZW5kZXIsIHRoaXMucHJvZHVjdHNMaXN0Vmlldyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpbmVzTGlzdFZpZXcgPSBuZXcgdmlld3MuTGluZXNMaXN0VmlldztcclxuICAgICAgICAgICAgdGhpcy5saW5lc0xpc3RWaWV3LiRlbCA9ICQoJyNsaW5lcycpO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmVzTGlzdFZpZXcuY29sbGVjdGlvbiA9IG1vZGVscy5Db2xsZWN0aW9ucygpLkxpbmVzO1xyXG4gICAgICAgICAgICB0aGlzLmxpbmVzTGlzdFZpZXcuY29sbGVjdGlvbi5vbignc3luYycsIHRoaXMubGluZXNMaXN0Vmlldy5yZW5kZXIsIHRoaXMubGluZXNMaXN0Vmlldyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c2VzTGlzdFZpZXcgPSBuZXcgdmlld3MuU3RhdHVzZXNMaXN0VmlldztcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNlc0xpc3RWaWV3LiRlbCA9ICQoJyNzdGF0dXNlcycpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c2VzTGlzdFZpZXcuY29sbGVjdGlvbiA9IG1vZGVscy5Db2xsZWN0aW9ucygpLlN0YXR1c2VzO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c2VzTGlzdFZpZXcuY29sbGVjdGlvbi5vbignc3luYycsIHRoaXMuc3RhdHVzZXNMaXN0Vmlldy5yZW5kZXIsIHRoaXMuc3RhdHVzZXNMaXN0Vmlldyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBob29rdXAgbmV3IGlucHV0c1xyXG4gICAgICAgICAgICAkKCcjaW5wdXROZXdQcm9kdWN0Jykub24oJ2tleXByZXNzJywgdGhpcy5uZXdQcm9kdWN0KTtcclxuICAgICAgICAgICAgJCgnI2lucHV0TmV3TGluZScpLm9uKCdrZXlwcmVzcycsIHRoaXMubmV3TGluZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBuZXcgcHJvZHVjdCAobm9ybWFsIGV2ZW50IGhhbmRsZXIpXHJcbiAgICAgICAgbmV3UHJvZHVjdChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgIT0gMTMpIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gJCgnI2lucHV0TmV3UHJvZHVjdCcpLnZhbCgpO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQgPT0gJycpIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIG5ld1Byb2R1Y3Q6IG1vZGVscy5Qcm9kdWN0O1xyXG4gICAgICAgICAgICBuZXdQcm9kdWN0ID0gbmV3IG1vZGVscy5Qcm9kdWN0O1xyXG4gICAgICAgICAgICBuZXdQcm9kdWN0Lk5hbWUgPSBpbnB1dDtcclxuICAgICAgICAgICAgbW9kZWxzLkNvbGxlY3Rpb25zKCkuUHJvZHVjdHMuY3JlYXRlKG5ld1Byb2R1Y3QsIHsgd2FpdDogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgJCgnI2lucHV0TmV3UHJvZHVjdCcpLnZhbCgnJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBuZXcgbGluZSAobm9ybWFsIGV2ZW50IGhhbmRsZXIpXHJcbiAgICAgICAgbmV3TGluZShlKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgIT0gMTMpIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gJCgnI2lucHV0TmV3TGluZScpLnZhbCgpO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQgPT0gJycpIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIG5ld0xpbmU6IG1vZGVscy5MaW5lO1xyXG4gICAgICAgICAgICBuZXdMaW5lID0gbmV3IG1vZGVscy5MaW5lO1xyXG4gICAgICAgICAgICBuZXdMaW5lLk5hbWUgPSBpbnB1dDtcclxuICAgICAgICAgICAgbW9kZWxzLkNvbGxlY3Rpb25zKCkuTGluZXMuY3JlYXRlKG5ld0xpbmUsIHsgd2FpdDogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgJCgnI2lucHV0TmV3TGluZScpLnZhbCgnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIG1haW4gPSBuZXcgTWFpbigpOyAvLyBtYWluIGNsYXNzIG9iamVjdCAobW9kdWxlIHdpZGUgYWNjZXNzKVxyXG4gICAgZXhwb3J0IGZ1bmN0aW9uIFJ1bigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkFwcGxpY2F0aW9uIHN0YXJ0XCIpO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==